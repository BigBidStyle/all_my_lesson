ОБНАРУЖЕНИЕ ТЕСТОВ.

Для совместимости с тестом обнаружения, все тестовые файлы должны быть модулями или пакеты,
импортируемые из каталога верхнего уровня проекта.

cd project_directory <-- Путь до директории.
python -m unittest discover

Примечание:
В качестве ярлыка, python -m unittest является эквивалентом python -m unittest discover.
Если вы хотите передать аргументы для проверки открытие discover ,подкоманду необходимо использовать явно.

The discover Подкоманда имеет следующие параметры:

-v <--verbose <-- Подробный вывод
-s <--start-directory <-- Каталог для начала обнаружения ( .по умолчанию)
-p <--pattern <-- Шаблон для соответствия тестовым файлам ( test*.py по умолчанию)
-t <--catalog <-- Каталог верхнего уровня проекта (по умолчанию — начальный каталог)

The -s, -p, и -t опции можно передать в качестве позиционных аргументов в указанном порядке. Следующие
две командные
строки эквивалентны:

python -m unittest discover -s project_directory -p "*_test.py"
python -m unittest discover project_directory "*_test.py"

Помимо пути можно передать имя пакета, например myproject.subpackage.test, в качестве стартового каталога. В пакете имя
вас затем источник будет импортирован, и будет использовано его расположение в файловой системе. в качестве стартового
каталога.

Осторожность

Обнаружение тестов загружает тесты путем их импорта. Как только обнаружение теста обнаружено все тестовые файлы из
указанного вами начального каталога превращаются в пути в имена пакетов для импорта. Например, foo/bar/baz.py будет
импортировано как foo.bar.baz.

Если у вас глобально установлен пакет и вы пытаетесь выполнить тестовое обнаружение на другую копию пакета, тогда
импорт может произойти из того места. Если это произойдет, test Discovery предупредит вас и завершит работу.

Если вы указываете начальный каталог как имя пакета, а не как путь к каталогу, а затем обнаружение предполагает, что
в каком бы месте он ни находился импорт из — это место, которое вы планировали, поэтому вы не получите предупреждение.

Тестовые модули и пакеты могут настраивать загрузку и обнаружение тестов с помощью протокол load_tests.

Изменено в версии 3.4: обнаружение тестов поддерживает пакеты пространства имен для начального каталога. Обратите
внимание, что вам необходимо указать верхний уровень каталог тоже
(например python -m unittest discover -s root/namespace -t root).

Изменено в версии 3.11: unittest удалил пакеты пространства имен поддержка в Python 3.11. Он был сломан начиная с
Python 3.7. Начальный каталог и подкаталоги, содержащие тесты, должны представлять собой обычный пакет,
имеющий __init__.py файл.

Каталоги, содержащие стартовый каталог, по-прежнему могут быть пакетом пространства имен. В этом случае вам необходимо
указать начальный каталог в виде имени пакета, разделенного точками. и целевой каталог явно. Например:

# proj/  <-- current directory
#   namespace/
#     mypkg/
#       __init__.py
#       test_mypkg.py

python -m unittest discover -s namespace.mypkg -t .


